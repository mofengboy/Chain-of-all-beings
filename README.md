# 众生之链

## 简介

众生之链是一款用来永久记录“生命”的区块链系统。这里记录的“生命”可以是自己的亲人、朋友；可以是自己印象深刻的文学人物或影像人物；可以是曾经拥有我们共同记忆的艺术家；可以是值得时代记忆的历史人物等等。该系统上线后由社区共同维护和更新，数据保存在全网，以此在人类社会中永久保留。

## 社区规范&概念（试行）

### 众生区块

众生区块用来记录一切已经离去的“生命”，他们将在此永久留存。

### 时代区块

如果众生区块记录的某个“生命”属于我们这个年代许多人的的共同记忆，那么，主节点用户可以推荐该众生区块，之后，我们大家一起投票，使他成为时代区块，他不该被忘记。

### 垃圾区块

为了能够删除主节点用户错误生成的不符合社区规范的众生区块，我们提出了垃圾区块标注机制。

社区成员一起投票表决标注垃圾区块，若某一众生区块被标注为垃圾区块，则任何结点无需再保存该区块的区块体内容。

### 主节点用户

主节点用户作为众生之链的联盟成员，有责任和义务推动众生之链社区的发展和维护系统的稳定。 主节点的加入采用申请制度，超过半数以上的主节点同意才可成为主节点。 主节点用户有以下权限：

1. 挑选普通用户提交的优秀"生命"记录，并将其作为区块体生成众生区块。
2. 挑选优秀众生区块，并推荐为时代区块。
3. 审阅不符合社区规范的众生区块，并将其标注垃圾区块。
4. 发起投票

主节点用户有以下责任和义务：

1. 保证24小时不间端运行。
2. 提供普通用户可以记录“生命”的平台。
3. 维护时代区块和垃圾标注区块。
4. 审阅其他结点提交的成为主节点的申请书。
5. 监督其他主节点。
6. 计算投票数据并授权给有贡献的普通用户。

### 普通用户

普通用户有以下权利

1. 记录“生命”。
2. 投票选举，使众生区块成为时代区块。
3. 投票标记，使众生区块被标记为垃圾区块。
4. 申请成为主节点。

### 共识机制

查看[共识机制 ](./consensus_mechanism.md)

## 发布区块

1. 普通用户首先在主节点提供的平台上生成秘钥对(包含私钥和公钥)。
2. 使用markdown格式尽可能详细地记录一个“生命”。
3. 使用秘钥对签名后，提交给主节点。
4. 主节点用户挑选优秀的记录，保存到待生成区块队列。
5. 当主节点依据共识机制计算出可以生成区块时，便将该记录作为区块体签名后发布到众生链上。

## 投票

所有用户可以对主节点用户推荐或标记的众生区块进行投票。

## 成为主节点

### 项目结构

- core（核心模块）

- server（简易后端）

- web（简易前端）#

### 部署

- Docker部署（推荐）

  1. 拉取项目到本地 
  	```shell
  docker pull mofengboy/beings
  	```

  2. 启动容器

     **对于设置安全组的云主机，需要放行23333和23334端口**

     ```shell
     docker run -itd -p 5000:5000 -p 23333:23333 -p 23334:23334 -v /beings/core/db:/Chain-of-all-beings/core/db -v /beings/core/log:/Chain-of-all-beings/core/log -v /beings/server/db:/Chain-of-all-beings/server/db mofengboy/beings /bin/bash
     ```
     
  3. 进入容器
  
     查看容器ID
  
     ```shell
     docker ps
     ```
  
     进入容器
  
     ```shell
     docker exec -it 容器ID /bin/bash
     ```
  
  4. 启动核心模块
  
     ```shell
     cd /Chain-of-all-beings/core
     nohup python run.py -s 您的私钥 -p 您的公钥 -u 您的后端服务网址 > core.log 2>&1 &
     ```
  
  5. 启动简易后端模块
  
     ```shell
     cd /Chain-of-all-beings/server
     uwsgi -d --ini start.ini
     ```
  
  6. 编译部署简易前端模块（可单独部署）
  
     安装依赖
  
     ```bash
     npm install
     ```
  
     修改配置文件中的后端服务地址，配置文件位于 Chain-of-all-beings/web/src/config.js
  
     编译
  
     ```shell
     npm run build
     ```
  
     
  
- python项目部署

  略

### 申请成为主节点

填写主节点信息，并在其他主节点服务网站进行申请。




